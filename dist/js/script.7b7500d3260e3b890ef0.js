!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(3),u=r(o),i=n(4),a=r(i),c=document.querySelector(".card"),d=document.querySelector(".video"),l=document.querySelector(".tim"),s=document.querySelector(".button"),f=function(e){console.log("click"),e.preventDefault(),d.paused?d.play():(0,u.default)().then(function(){return(0,a.default)(d)}).then(function(){return p(c)})},v=function(e){32===e.keyCode&&(e.preventDefault(),d.paused?d.play():(0,u.default)().then(function(){return(0,a.default)(d)}).then(function(){return p(c)}))},m=function e(){var t=c.getContext("2d");requestAnimationFrame(e),t.clearRect(0,0,c.width,c.height),t.save(),t.save(),t.scale(-1,1),t.translate(-d.width,0),t.drawImage(d,-140,130),t.restore(),t.drawImage(l,0,0),t.restore()},p=function(e){var t=e.toDataURL("image/jpeg");h(t),b(t)},h=function(e){var t=document.createElement("a");t.href=e,t.classList.add("thumb"),t.setAttribute("download","timcookifier"),t.innerHTML='<img src="'+e+'" alt="timcookifier" class="photo" />',t.addEventListener("click",function(e){e.target.classList.contains("thumb")&&(e.preventDefault(),g(e.target))}),document.querySelector("main").appendChild(t)},g=function(e){q(e),y(e)},y=function(e){e.classList.add("removeThumb"),e.addEventListener("animationend",function(e){e.currentTarget.remove()})},b=function(e){var t=w();t.push(e),L(t)},w=function(){var e=localStorage.getItem("album");return e?JSON.parse(e):[]},L=function(e){localStorage.setItem("album",JSON.stringify(e))},S=function(){w().forEach(h)},q=function(e){var t=w();L(t.filter(function(t){return e!=t}))};!function(){s.addEventListener("mousedown",f),S(),navigator.mediaDevices.getUserMedia({video:{width:640,height:480},audio:!1}).then(function(e){d.srcObject=e,c.width=d.width,c.height=d.height,m()}),document.addEventListener("keydown",v)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.resolve,n=e.count,r=e.value,o=e.interval,u=e.$shutter,i=e.$beep;r===n?(u.play(),clearInterval(o),t()):i.play()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,n=void 0===t?4:t,o=e.intervalTime,u=void 0===o?500:o,i=document.querySelector(".shutter"),a=document.querySelector(".beep"),c=0;return new Promise(function(e){var t=setInterval(function(){++c,r({resolve:e,count:n,value:c,interval:t,$shutter:i,$beep:a})},u)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=document.createElement("div");return e.classList.add("flash"),document.body.appendChild(e),e},o=function(e){return e.parentNode.removeChild(e)};t.default=function(e){return new Promise(function(t){r().addEventListener("animationend",function(e){o(e.currentTarget),t()}),e.pause(),setInterval(function(){e.play()},2500)})}}]);